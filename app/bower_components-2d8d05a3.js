!function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function r(e,n){function i(t,e){return e.toLowerCase()}var s,r=t(e).data(),o={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(s=l.replace(a,i),o[s]=r[l]);return o}function o(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var i=p[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var a=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),h=function(e,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),i=n.language;switch(p[i]||(i=i.split("-")[0],p[i]||(i=d.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var s=g.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):g.parseDate(n.startDate,s,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):g.parseDate(n.endDate,s,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();if(r=t.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else o=t.grep(r,function(t){return/^left|right$/.test(t)}),n.orientation.x=o[0]||"auto",o=t.grep(r,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=o[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,s,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(i=e,s=t[r][1]):3===t[r].length&&(i=t[r][1],s=t[r][2]),n.on(s,i)},_unapplyEvents:function(t){for(var n,i,s,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(s=e,i=t[r][1]):3===t[r].length&&(s=t[r][1],i=t[r][2]),n.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),s=this._utc_to_local(i);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,s=a.width(),r=a.height(),o=a.scrollTop(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var h=Math.max.apply(Math,l)+10,u=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=u.left,p=u.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=e-d)):(this.picker.addClass("datepicker-orient-left"),u.left<0?f-=u.left-i:u.left+e>s&&(f=s-e-i));var g,m,v=this.o.orientation.y;"auto"===v&&(g=-o+u.top-n,m=o+r-(u.top+c+n),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?p+=c:p-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:f,zIndex:h})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],i=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<s?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>s)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,s=new Date(this.viewDate),r=s.getUTCFullYear(),o=s.getUTCMonth(),a=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,c=p[this.o.language].today||p.en.today||"",d=p[this.o.language].clear||p.en.clear||"";if(!isNaN(r)&&!isNaN(o)){this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[o]+" "+r),this.picker.find("tfoot th.today").text(c).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=n(r,o-1,28),m=g.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(f);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,w=[];f.valueOf()<v;){if(f.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var D=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),_=new Date(Number(D)+(11-D.getUTCDay())%7*864e5),b=new Date(Number(b=n(_.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),T=(_-b)/864e5/7+1;w.push('<td class="cw">'+T+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==t.noop){var k=this.o.beforeShowDay(this._utc_to_local(f));k===e?k={}:"boolean"==typeof k?k={enabled:k}:"string"==typeof k&&(k={classes:k}),k.enabled===!1&&y.push("disabled"),k.classes&&(y=y.concat(k.classes.split(/\s+/))),k.tooltip&&(i=k.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+f.getUTCDate()+"</td>"),i=null,f.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var S=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&S.eq(e.getUTCMonth()).addClass("active")}),(a>r||r>h)&&S.addClass("disabled"),r===a&&S.slice(0,l).addClass("disabled"),r===h&&S.slice(u+1).addClass("disabled"),w="",r=10*parseInt(r/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var M,E=t.map(this.dates,function(t){return t.getUTCFullYear()}),Y=-1;11>Y;Y++)M=["year"],-1===Y?M.push("old"):10===Y&&M.push("new"),-1!==t.inArray(r,E)&&M.push("active"),(a>r||r>h)&&M.push("disabled"),w+='<span class="'+M.join(" ")+'">'+r+"</span>",r+=1;C.html(w)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var i,s,r,o=t(e.target).closest("span, td, th");if(1===o.length)switch(o[0].nodeName.toLowerCase()){case"th":switch(o[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var a=g.modes[this.viewMode].navStep*("prev"===o[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":o.is(".disabled")||(this.viewDate.setUTCDate(1),o.is(".month")?(r=1,s=o.parent().find("span").index(o),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,s,r))):(r=1,s=0,i=parseInt(o.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,s,r))),this.showMode(-1),this.fill());break;case"td":o.is(".day")&&!o.is(".disabled")&&(r=parseInt(o.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),o.is(".old")?0===s?(s=11,i-=1):s-=1:o.is(".new")&&(11===s?(s=0,i+=1):s+=1),this._setDate(n(i,s,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),1===this.o.multidate&&0===e||(-1!==e?this.dates.remove(e):this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,s,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)s=-1===n?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==i},i=a+n,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var h=0;l>h;h++)r=this.moveMonth(r,n);i=r.getUTCMonth(),r.setUTCDate(o),s=function(){return i!==r.getUTCMonth()}}for(;s();)r.setUTCDate(--o),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,s,r=!1,o=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),s=new Date(o),s.setUTCDate(o.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),s=this.moveYear(o,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),s=this.moveMonth(o,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),s=new Date(o),s.setUTCDate(o.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this._trigger(this.dates.length?"changeDate":"clearDate");var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),s=t.inArray(e.target,this.inputs),r=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[s])for(;s>=0&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[s])for(;r>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var c=t.fn.datepicker;t.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var a=t(this),l=a.data("datepicker"),c="object"==typeof n&&n;if(!l){var f=r(this,"date"),p=t.extend({},d,f,c),g=o(p.language),m=t.extend({},d,g,f,c);if(a.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||a.find("input").toArray()};a.data("datepicker",l=new u(this,t.extend(m,v)))}else a.data("datepicker",l=new h(this,m))}return"string"==typeof n&&"function"==typeof l[n]&&(s=l[n].apply(l,i),s!==e)?!1:void 0}),s!==e?s:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,s,r){function o(){var t=this.slice(0,d[u].length),e=d[u].slice(0,t.length);return t===e}if(!i)return e;if(i instanceof Date)return i;"string"==typeof s&&(s=g.parseFormat(s));var a,l,u,c=/([\-+]\d+)([dmwy])/,d=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<d.length;u++)switch(a=c.exec(d[u]),l=parseInt(a[1]),a[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=h.prototype.moveMonth.call(h.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=h.prototype.moveYear.call(h.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}d=i&&i.match(this.nonpunctuation)||[],i=new Date;var f,m,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var D=s.parts.slice();if(d.length!==D.length&&(D=t(D).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),d.length===D.length){var _;for(u=0,_=D.length;_>u;u++){if(f=parseInt(d[u],10),a=D[u],isNaN(f))switch(a){case"MM":m=t(p[r].months).filter(o),f=t.inArray(m[0],p[r].months)+1;break;case"M":m=t(p[r].monthsShort).filter(o),f=t.inArray(m[0],p[r].monthsShort)+1}v[a]=f}var b,T;for(u=0;u<y.length;u++)T=y[u],T in v&&!isNaN(v[T])&&(b=new Date(i),w[T](b,v[T]),isNaN(b)||(i=b))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var s={d:e.getUTCDate(),D:p[i].daysShort[e.getUTCDay()],DD:p[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[i].monthsShort[e.getUTCMonth()],MM:p[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var r=t.extend([],n.separators),o=0,a=n.parts.length;a>=o;o++)r.length&&e.push(r.shift()),e.push(s[n.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return Se.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function s(t){we.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function r(t,e){var n=!0;return d(function(){return n&&(s(t),n=!1),e.apply(this,arguments)},e)}function o(t,e){vn[t]||(s(e),vn[t]=!0)}function a(t,e){return function(n){return g(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function h(){}function u(t,e){e!==!1&&H(t),f(this,t),this._d=new Date(+t._d)}function c(t){var e=k(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*h+6e4*l+36e5*a,this._days=+o+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=we.localeData(),this._bubble()}function d(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e){var n,i,s;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Fe.length>0)for(n in Fe)i=Fe[n],s=e[i],"undefined"!=typeof s&&(t[i]=s);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t,e,n){for(var i=""+Math.abs(t),s=t>=0;i.length<e;)i="0"+i;return(s?n?"+":"":"-")+i}function m(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function v(t,e){var n;return e=W(e,t),t.isBefore(e)?n=m(t,e):(n=m(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=we.duration(n,i),w(this,s,t),this}}function w(t,e,n,i){var s=e._milliseconds,r=e._days,o=e._months;i=null==i?!0:i,s&&t._d.setTime(+t._d+s*n),r&&fe(t,"Date",de(t,"Date")+r*n),o&&ce(t,de(t,"Month")+o*n),i&&we.updateOffset(t,r||o)}function D(t){return"[object Array]"===Object.prototype.toString.call(t)}function _(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function b(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(i=0;s>i;i++)(n&&t[i]!==e[i]||!n&&C(t[i])!==C(e[i]))&&o++;return o+r}function T(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=un[t]||cn[e]||e}return t}function k(t){var e,i,s={};for(i in t)n(t,i)&&(e=T(i),e&&(s[e]=t[i]));return s}function S(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}we[e]=function(s,r){var o,a,l=we._locale[e],h=[];if("number"==typeof s&&(r=s,s=t),a=function(t){var e=we().utc().set(i,t);return l.call(we._locale,e,s||"")},null!=r)return a(r);for(o=0;n>o;o++)h.push(a(o));return h}}function C(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function M(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function E(t,e,n){return ae(we([t,11,31+e-n]),e,n).week}function Y(t){return x(t)?366:365}function x(t){return t%4===0&&t%100!==0||t%400===0}function H(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Me]<0||t._a[Me]>11?Me:t._a[Ee]<1||t._a[Ee]>M(t._a[Ce],t._a[Me])?Ee:t._a[Ye]<0||t._a[Ye]>24||24===t._a[Ye]&&(0!==t._a[xe]||0!==t._a[He]||0!==t._a[Ue])?Ye:t._a[xe]<0||t._a[xe]>59?xe:t._a[He]<0||t._a[He]>59?He:t._a[Ue]<0||t._a[Ue]>999?Ue:-1,t._pf._overflowDayOfYear&&(Ce>e||e>Ee)&&(e=Ee),t._pf.overflow=e)}function U(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function O(t){return t?t.toLowerCase().replace("_","-"):t}function F(t){for(var e,n,i,s,r=0;r<t.length;){for(s=O(t[r]).split("-"),e=s.length,n=O(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=P(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(s,n,!0)>=e-1)break;e--}r++}return null}function P(t){var e=null;if(!Oe[t]&&Pe)try{e=we.locale(),require("./locale/"+t),we.locale(e)}catch(n){}return Oe[t]}function W(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(we.isMoment(t)||_(t)?+t:+we(t))-+n,n._d.setTime(+n._d+i),we.updateOffset(n,!1),n):we(t).local()}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")
}function G(t){var e,n,i=t.match(Le);for(e=0,n=i.length;n>e;e++)i[e]=mn[i[e]]?mn[i[e]]:z(i[e]);return function(s){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(s,t):i[e];return r}}function L(t,e){return t.isValid()?(e=R(e,t.localeData()),dn[e]||(dn[e]=G(e)),dn[e](t)):t.localeData().invalidDate()}function R(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Re.lastIndex=0;i>=0&&Re.test(t);)t=t.replace(Re,n),Re.lastIndex=0,i-=1;return t}function A(t,e){var n,i=e._strict;switch(t){case"Q":return Je;case"DDDD":return Ke;case"YYYY":case"GGGG":case"gggg":return i?tn:Ne;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?en:Ve;case"S":if(i)return Je;case"SS":if(i)return Qe;case"SSS":if(i)return Ke;case"DDD":return Ie;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return je;case"a":case"A":return e._locale._meridiemParse;case"x":return qe;case"X":return Xe;case"Z":case"ZZ":return Be;case"T":return $e;case"SSSS":return Ze;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Qe:Ae;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ae;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(X(q(t.replace("\\","")),"i"))}}function I(t){t=t||"";var e=t.match(Be)||[],n=e[e.length-1]||[],i=(n+"").match(ln)||["-",0,0],s=+(60*i[1])+C(i[2]);return"+"===i[0]?-s:s}function N(t,e,n){var i,s=n._a;switch(t){case"Q":null!=e&&(s[Me]=3*(C(e)-1));break;case"M":case"MM":null!=e&&(s[Me]=C(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?s[Me]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[Ee]=C(e));break;case"Do":null!=e&&(s[Ee]=C(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=C(e));break;case"YY":s[Ce]=we.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":s[Ce]=C(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":s[Ye]=C(e);break;case"m":case"mm":s[xe]=C(e);break;case"s":case"ss":s[He]=C(e);break;case"S":case"SS":case"SSS":case"SSSS":s[Ue]=C(1e3*("0."+e));break;case"x":n._d=new Date(C(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=I(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=C(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=we.parseTwoDigitYear(e)}}function V(t){var n,i,s,r,o,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,a=4,i=e(n.GG,t._a[Ce],ae(we(),1,4).year),s=e(n.W,1),r=e(n.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[Ce],ae(we(),o,a).year),s=e(n.w,1),null!=n.d?(r=n.d,o>r&&++s):r=null!=n.e?n.e+o:o),l=le(i,s,r,a,o),t._a[Ce]=l.year,t._dayOfYear=l.dayOfYear}function Z(t){var n,i,s,r,o=[];if(!t._d){for(s=B(t),t._w&&null==t._a[Ee]&&null==t._a[Me]&&V(t),t._dayOfYear&&(r=e(t._a[Ce],s[Ce]),t._dayOfYear>Y(r)&&(t._pf._overflowDayOfYear=!0),i=ie(r,0,t._dayOfYear),t._a[Me]=i.getUTCMonth(),t._a[Ee]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=o[n]=s[n];for(;7>n;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Ye]&&0===t._a[xe]&&0===t._a[He]&&0===t._a[Ue]&&(t._nextDay=!0,t._a[Ye]=0),t._d=(t._useUTC?ie:ne).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm),t._nextDay&&(t._a[Ye]=24)}}function j(t){var e;t._d||(e=k(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Z(t))}function B(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $(e){if(e._f===we.ISO_8601)return void Q(e);e._a=[],e._pf.empty=!0;var n,i,s,r,o,a=""+e._i,l=a.length,h=0;for(s=R(e._f,e._locale).match(Le)||[],n=0;n<s.length;n++)r=s[n],i=(a.match(A(r,e))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),h+=i.length),mn[r]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(r),N(r,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=l-h,a.length>0&&e._pf.unusedInput.push(a),e._pf.bigHour===!0&&e._a[Ye]<=12&&(e._pf.bigHour=t),e._isPm&&e._a[Ye]<12&&(e._a[Ye]+=12),e._isPm===!1&&12===e._a[Ye]&&(e._a[Ye]=0),Z(e),H(e)}function q(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s})}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,n,s,r,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[r],$(e),U(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==s||s>o)&&(s=o,n=e));d(t,n||e)}function Q(t){var e,n,i=t._i,s=sn.exec(i);if(s){for(t._pf.iso=!0,e=0,n=on.length;n>e;e++)if(on[e][1].exec(i)){t._f=on[e][0]+(s[6]||" ");break}for(e=0,n=an.length;n>e;e++)if(an[e][1].exec(i)){t._f+=an[e][0];break}i.match(Be)&&(t._f+="Z"),$(t)}else t._isValid=!1}function K(t){Q(t),t._isValid===!1&&(delete t._isValid,we.createFromInputFallback(t))}function te(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function ee(e){var n,i=e._i;i===t?e._d=new Date:_(i)?e._d=new Date(+i):null!==(n=We.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?K(e):D(i)?(e._a=te(i.slice(0),function(t){return parseInt(t,10)}),Z(e)):"object"==typeof i?j(e):"number"==typeof i?e._d=new Date(i):we.createFromInputFallback(e)}function ne(t,e,n,i,s,r,o){var a=new Date(t,e,n,i,s,r,o);return 1970>t&&a.setFullYear(t),a}function ie(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function se(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function re(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function oe(t,e,n){var i=we.duration(t).abs(),s=ke(i.as("s")),r=ke(i.as("m")),o=ke(i.as("h")),a=ke(i.as("d")),l=ke(i.as("M")),h=ke(i.as("y")),u=s<fn.s&&["s",s]||1===r&&["m"]||r<fn.m&&["mm",r]||1===o&&["h"]||o<fn.h&&["hh",o]||1===a&&["d"]||a<fn.d&&["dd",a]||1===l&&["M"]||l<fn.M&&["MM",l]||1===h&&["y"]||["yy",h];return u[2]=e,u[3]=+t>0,u[4]=n,re.apply({},u)}function ae(t,e,n){var i,s=n-e,r=n-t.day();return r>s&&(r-=7),s-7>r&&(r+=7),i=we(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function le(t,e,n,i,s){var r,o,a=ie(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:s,r=s-a+(a>i?7:0)-(s>a?7:0),o=7*(e-1)+(n-s)+r+1,{year:o>0?t:t-1,dayOfYear:o>0?o:Y(t-1)+o}}function he(e){var n,i=e._i,s=e._f;return e._locale=e._locale||we.localeData(e._l),null===i||s===t&&""===i?we.invalid({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),we.isMoment(i)?new u(i,!0):(s?D(s)?J(e):$(e):ee(e),n=new u(e),n._nextDay&&(n.add(1,"d"),n._nextDay=t),n))}function ue(t,e){var n,i;if(1===e.length&&D(e[0])&&(e=e[0]),!e.length)return we();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function ce(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),M(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function de(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function fe(t,e,n){return"Month"===e?ce(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pe(t,e){return function(n){return null!=n?(fe(this,t,n),we.updateOffset(this,e),this):de(this,t)}}function ge(t){return 400*t/146097}function me(t){return 146097*t/400}function ve(t){we.duration.fn[t]=function(){return this._data[t]}}function ye(t){"undefined"==typeof ender&&(De=Te.moment,Te.moment=t?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",we):we)}for(var we,De,_e,be="2.8.4",Te="undefined"!=typeof global?global:this,ke=Math.round,Se=Object.prototype.hasOwnProperty,Ce=0,Me=1,Ee=2,Ye=3,xe=4,He=5,Ue=6,Oe={},Fe=[],Pe="undefined"!=typeof module&&module&&module.exports,We=/^\/?Date\((\-?\d+)/i,ze=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ge=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Le=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Re=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ae=/\d\d?/,Ie=/\d{1,3}/,Ne=/\d{1,4}/,Ve=/[+\-]?\d{1,6}/,Ze=/\d+/,je=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Be=/Z|[\+\-]\d\d:?\d\d/gi,$e=/T/i,qe=/[\+\-]?\d+/,Xe=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,Qe=/\d\d/,Ke=/\d{3}/,tn=/\d{4}/,en=/[+-]?\d{6}/,nn=/[+-]?\d+/,sn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn="YYYY-MM-DDTHH:mm:ssZ",on=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,hn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),un={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},dn={},fn={s:45,m:45,h:22,d:26,M:11},pn="DDD w W M D d".split(" "),gn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return g(this.year()%100,2)},YYYY:function(){return g(this.year(),4)},YYYYY:function(){return g(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+g(Math.abs(t),6)},gg:function(){return g(this.weekYear()%100,2)},gggg:function(){return g(this.weekYear(),4)},ggggg:function(){return g(this.weekYear(),5)},GG:function(){return g(this.isoWeekYear()%100,2)},GGGG:function(){return g(this.isoWeekYear(),4)},GGGGG:function(){return g(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return g(C(this.milliseconds()/10),2)},SSS:function(){return g(this.milliseconds(),3)},SSSS:function(){return g(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(C(t/60),2)+":"+g(C(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+g(C(t/60),2)+g(C(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},vn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pn.length;)_e=pn.pop(),mn[_e+"o"]=l(mn[_e],_e);for(;gn.length;)_e=gn.pop(),mn[_e+_e]=a(mn[_e],2);mn.DDDD=a(mn.DDD,3),d(h.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(s=we.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=we([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var s=this._relativeTime[n];return"function"==typeof s?s(t,e,n,i):s.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ae(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),we=function(e,n,s,r){var o;return"boolean"==typeof s&&(r=s,s=t),o={},o._isAMomentObject=!0,o._i=e,o._f=n,o._l=s,o._strict=r,o._isUTC=!1,o._pf=i(),he(o)},we.suppressDeprecationWarnings=!1,we.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),we.min=function(){var t=[].slice.call(arguments,0);return ue("isBefore",t)},we.max=function(){var t=[].slice.call(arguments,0);return ue("isAfter",t)},we.utc=function(e,n,s,r){var o;return"boolean"==typeof s&&(r=s,s=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=s,o._i=e,o._f=n,o._strict=r,o._pf=i(),he(o).utc()},we.unix=function(t){return we(1e3*t)},we.duration=function(t,e){var i,s,r,o,a=t,l=null;return we.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=ze.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:C(l[Ee])*i,h:C(l[Ye])*i,m:C(l[xe])*i,s:C(l[He])*i,ms:C(l[Ue])*i}):(l=Ge.exec(t))?(i="-"===l[1]?-1:1,r=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(o=v(we(a.from),we(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),s=new c(a),we.isDuration(t)&&n(t,"_locale")&&(s._locale=t._locale),s},we.version=be,we.defaultFormat=rn,we.ISO_8601=function(){},we.momentProperties=Fe,we.updateOffset=function(){},we.relativeTimeThreshold=function(e,n){return fn[e]===t?!1:n===t?fn[e]:(fn[e]=n,!0)},we.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return we.locale(t,e)}),we.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?we.defineLocale(t,e):we.localeData(t),n&&(we.duration._locale=we._locale=n)),we._locale._abbr},we.defineLocale=function(t,e){return null!==e?(e.abbr=t,Oe[t]||(Oe[t]=new h),Oe[t].set(e),we.locale(t),Oe[t]):(delete Oe[t],null)},we.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(t){return we.localeData(t)}),we.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return we._locale;if(!D(t)){if(e=P(t))return e;t=[t]}return F(t)},we.isMoment=function(t){return t instanceof u||null!=t&&n(t,"_isAMomentObject")},we.isDuration=function(t){return t instanceof c};for(_e=yn.length-1;_e>=0;--_e)S(yn[_e]);we.normalizeUnits=function(t){return T(t)},we.invalid=function(t){var e=we.utc(0/0);return null!=t?d(e._pf,t):e._pf.userInvalidated=!0,e},we.parseZone=function(){return we.apply(null,arguments).parseZone()},we.parseTwoDigitYear=function(t){return C(t)+(C(t)>68?1900:2e3)},d(we.fn=u.prototype,{clone:function(){return we(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=we(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return U(this)},isDSTShifted:function(){return this._a?this.isValid()&&b(this._a,(this._isUTC?we.utc(this._a):we(this._a)).toArray())>0:!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=L(this,t||we.defaultFormat);return this.localeData().postformat(e)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(t,e,n){var i,s,r,o=W(t,this),a=6e4*(this.zone()-o.zone());return e=T(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+o.daysInMonth()),s=12*(this.year()-o.year())+(this.month()-o.month()),r=this-we(this).startOf("month")-(o-we(o).startOf("month")),r-=6e4*(this.zone()-we(this).startOf("month").zone()-(o.zone()-we(o).startOf("month").zone())),s+=r/i,"year"===e&&(s/=12)):(i=this-o,s="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?s:p(s)},from:function(t,e){return we.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(we(),t)},calendar:function(t){var e=t||we(),n=W(e,this).startOf("day"),i=this.diff(n,"days",!0),s=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(s,this,we(e)))},isLeapYear:function(){return x(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=se(t,this.localeData()),this.add(t-e,"d")):e},month:pe("Month",!0),startOf:function(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=T(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+this>+t):(n=we.isMoment(t)?+t:+we(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+t>+this):(n=we.isMoment(t)?+t:+we(t),+this.clone().endOf(e)<n)},isSame:function(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=we.isMoment(t)?t:we(t),+this===+t):(n=+we(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=we.apply(null,arguments),this>t?this:t}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=we.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=I(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?w(this,we.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?we(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(t){var e=ke((we(this).startOf("day")-we(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ae(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ae(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ae(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return E(this.year(),t.dow,t.doy)},get:function(t){return t=T(t),this[t]()},set:function(t,e){return t=T(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(n=we.localeData(e),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),we.fn.millisecond=we.fn.milliseconds=pe("Milliseconds",!1),we.fn.second=we.fn.seconds=pe("Seconds",!1),we.fn.minute=we.fn.minutes=pe("Minutes",!1),we.fn.hour=we.fn.hours=pe("Hours",!0),we.fn.date=pe("Date",!0),we.fn.dates=r("dates accessor is deprecated. Use date instead.",pe("Date",!0)),we.fn.year=pe("FullYear",!0),we.fn.years=r("years accessor is deprecated. Use year instead.",pe("FullYear",!0)),we.fn.days=we.fn.day,we.fn.months=we.fn.month,we.fn.weeks=we.fn.week,we.fn.isoWeeks=we.fn.isoWeek,we.fn.quarters=we.fn.quarter,we.fn.toJSON=we.fn.toISOString,d(we.duration.fn=c.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,s=this._days,r=this._months,o=this._data,a=0;o.milliseconds=i%1e3,t=p(i/1e3),o.seconds=t%60,e=p(t/60),o.minutes=e%60,n=p(e/60),o.hours=n%24,s+=p(n/24),a=p(ge(s)),s-=p(me(a)),r+=p(s/30),s%=30,a+=p(r/12),r%=12,o.days=s,o.months=r,o.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(t){var e=oe(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=we.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=we.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=T(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=T(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*ge(e),"month"===t?n:n/12;switch(e=this._days+Math.round(me(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:we.fn.lang,locale:we.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),s=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||s||r?"T":"")+(i?i+"H":"")+(s?s+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),we.duration.fn.toString=we.duration.fn.toISOString;for(_e in hn)n(hn,_e)&&ve(_e.toLowerCase());we.duration.fn.asMilliseconds=function(){return this.as("ms")},we.duration.fn.asSeconds=function(){return this.as("s")},we.duration.fn.asMinutes=function(){return this.as("m")},we.duration.fn.asHours=function(){return this.as("h")},we.duration.fn.asDays=function(){return this.as("d")},we.duration.fn.asWeeks=function(){return this.as("weeks")},we.duration.fn.asMonths=function(){return this.as("M")},we.duration.fn.asYears=function(){return this.as("y")},we.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===C(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Pe?module.exports=we:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Te.moment=De),we}),ye(!0)):ye()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function i(t,e){var n=e.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n}function s(t){r(Te,t)}function r(e){function n(n,i){t.isPlainObject(i)&&t.isPlainObject(e[n])&&!o(n)?e[n]=r({},e[n],i):void 0!==i&&(e[n]=i)}for(var i=1;arguments.length>i;i++)t.each(arguments[i],n);return e}function o(t){return/(Time|Duration)$/.test(t)}function a(n,i){function s(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function o(t){ne?c()&&(g(),f(t)):a()}function a(){ie=J.theme?"ui":"fc",n.addClass("fc"),n.addClass(J.isRTL?"fc-rtl":"fc-ltr"),n.addClass(J.theme?"ui-widget":"fc-unthemed"),ne=t("<div class='fc-view-container'/>").prependTo(n),te=new l(q,J),ee=te.render(),ee&&n.prepend(ee),d(J.defaultView),J.handleWindowResize&&(oe=O(v,J.windowResizeDelay),t(window).resize(oe))}function u(){se&&se.destroy(),te.destroy(),ne.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),t(window).unbind("resize",oe)}function c(){return n.is(":visible")}function d(t){f(0,t)}function f(e,n){ce++,se&&n&&se.name!==n&&(te.deactivateButton(se.name),N(),se.start&&se.destroy(),se.el.remove(),se=null),!se&&n&&(se=new Me[n](q),se.el=t("<div class='fc-view fc-"+n+"-view' />").appendTo(ne),te.activateButton(n)),se&&(e&&(ae=se.incrementDate(ae,e)),se.start&&!e&&ae.isWithin(se.intervalStart,se.intervalEnd)||c()&&(N(),se.start&&se.destroy(),se.render(ae),V(),S(),M(),_())),V(),ce--}function p(t){return c()?(t&&m(),ce++,se.updateSize(!0),ce--,!0):void 0}function g(){c()&&m()}function m(){re="number"==typeof J.contentHeight?J.contentHeight:"number"==typeof J.height?J.height-(ee?ee.outerHeight(!0):0):Math.round(ne.width()/Math.max(J.aspectRatio,.5))}function v(t){!ce&&t.target===window&&se.start&&p(!0)&&se.trigger("windowResize",ue)}function y(){D(),b()}function w(){c()&&(N(),se.destroyEvents(),se.renderEvents(de),V())}function D(){N(),se.destroyEvents(),V()}function _(){!J.lazyFetching||le(se.start,se.end)?b():w()}function b(){he(se.start,se.end)}function T(t){de=t,w()}function k(){w()}function S(){te.updateTitle(se.title)}function M(){var t=q.getNow();t.isWithin(se.intervalStart,se.intervalEnd)?te.disableButton("today"):te.enableButton("today")}function E(t,e){t=q.moment(t),e=e?q.moment(e):t.clone().add(t.hasTime()?q.defaultTimedEventDuration:q.defaultAllDayEventDuration),se.select(t,e)}function Y(){se&&se.unselect()}function x(){f(-1)}function H(){f(1)}function F(){ae.add(-1,"years"),f()}function P(){ae.add(1,"years"),f()}function W(){ae=q.getNow(),f()}function z(t){ae=q.moment(t),f()}function L(t){ae.add(e.duration(t)),f()}function R(t,e){var n,i;e&&void 0!==Me[e]||(e=e||"day",n=te.getViewsWithButtons().join(" "),i=n.match(RegExp("\\w+"+U(e))),i||(i=n.match(/\w+Day/)),e=i?i[0]:"agendaDay"),ae=t,d(e)}function I(){return ae.clone()}function N(){ne.css({width:"100%",height:ne.height(),overflow:"hidden"})}function V(){ne.css({width:"",height:"",overflow:""})}function Z(){return q}function j(){return se}function B(t,e){return void 0===e?J[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(J[t]=e,p(!0)))}function $(t,e){return J[t]?J[t].apply(e||ue,Array.prototype.slice.call(arguments,2)):void 0}var q=this;i=i||{};var X,J=r({},Te,i);X=J.lang in ke?ke[J.lang]:ke[Te.lang],X&&(J=r({},Te,X,i)),J.isRTL&&(J=r({},Te,Se,X||{},i)),q.options=J,q.render=o,q.destroy=u,q.refetchEvents=y,q.reportEvents=T,q.reportEventChange=k,q.rerenderEvents=w,q.changeView=d,q.select=E,q.unselect=Y,q.prev=x,q.next=H,q.prevYear=F,q.nextYear=P,q.today=W,q.gotoDate=z,q.incrementDate=L,q.zoomTo=R,q.getDate=I,q.getCalendar=Z,q.getView=j,q.option=B,q.trigger=$;
var Q=C(s(J.lang));if(J.monthNames&&(Q._months=J.monthNames),J.monthNamesShort&&(Q._monthsShort=J.monthNamesShort),J.dayNames&&(Q._weekdays=J.dayNames),J.dayNamesShort&&(Q._weekdaysShort=J.dayNamesShort),null!=J.firstDay){var K=C(Q._week);K.dow=J.firstDay,Q._week=K}q.defaultAllDayEventDuration=e.duration(J.defaultAllDayEventDuration),q.defaultTimedEventDuration=e.duration(J.defaultTimedEventDuration),q.moment=function(){var t;return"local"===J.timezone?(t=Ce.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===J.timezone?Ce.moment.utc.apply(null,arguments):Ce.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=Q:t._lang=Q,t},q.getIsAmbigTimezone=function(){return"local"!==J.timezone&&"UTC"!==J.timezone},q.rezoneDate=function(t){return q.moment(t.toArray())},q.getNow=function(){var t=J.now;return"function"==typeof t&&(t=t()),q.moment(t)},q.calculateWeekNumber=function(t){var e=J.weekNumberCalculation;return"function"==typeof e?e(t):"local"===e?t.week():"ISO"===e.toUpperCase()?t.isoWeek():void 0},q.getEventEnd=function(t){return t.end?t.end.clone():q.getDefaultEventEnd(t.allDay,t.start)},q.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(q.defaultAllDayEventDuration):n.add(q.defaultTimedEventDuration),q.getIsAmbigTimezone()&&n.stripZone(),n},q.formatRange=function(t,e,n){return"function"==typeof n&&(n=n.call(q,J,Q)),A(t,e,n,null,J.isRTL)},q.formatDate=function(t,e){return"function"==typeof e&&(e=e.call(q,J,Q)),G(t,e)},h.call(q,J);var te,ee,ne,ie,se,re,oe,ae,le=q.isFetchNeeded,he=q.fetchEvents,ue=n[0],ce=0,de=[];ae=null!=J.defaultDate?q.moment(J.defaultDate):q.getNow(),q.getSuggestedViewHeight=function(){return void 0===re&&g(),re},q.isHeightAuto=function(){return"auto"===J.contentHeight||"auto"===J.height}}function l(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?p=t("<div class='fc-toolbar'/>").append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>'):void 0}function s(){p.remove()}function r(i){var s=t('<div class="fc-'+i+'"/>'),r=n.header[i];return r&&t.each(r.split(" "),function(){var i,r=t(),o=!0;t.each(this.split(","),function(i,s){var a,l,h,u,c,d,p,m;"title"==s?(r=r.add(t("<h2>&nbsp;</h2>")),o=!1):(e[s]?a=function(){e[s]()}:Me[s]&&(a=function(){e.changeView(s)},g.push(s)),a&&(l=b(n.themeButtonIcons,s),h=b(n.buttonIcons,s),u=b(n.defaultButtonText,s),c=b(n.buttonText,s),d=c?x(c):l&&n.theme?"<span class='ui-icon ui-icon-"+l+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":x(u||s),p=["fc-"+s+"-button",f+"-button",f+"-state-default"],m=t('<button type="button" class="'+p.join(" ")+'">'+d+"</button>").click(function(){m.hasClass(f+"-state-disabled")||(a(),(m.hasClass(f+"-state-active")||m.hasClass(f+"-state-disabled"))&&m.removeClass(f+"-state-hover"))}).mousedown(function(){m.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){m.removeClass(f+"-state-down")}).hover(function(){m.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){m.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),r=r.add(m)))}),o&&r.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),r.length>1?(i=t("<div/>"),o&&i.addClass("fc-button-group"),i.append(r),s.append(i)):s.append(r)}),s}function o(t){p.find("h2").text(t)}function a(t){p.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){p.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function h(t){p.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function u(t){p.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function c(){return g}var d=this;d.render=i,d.destroy=s,d.updateTitle=o,d.activateButton=a,d.deactivateButton=l,d.disableButton=h,d.enableButton=u,d.getViewsWithButtons=c;var f,p=t(),g=[]}function h(e){function n(t,e){return!k||t.clone().stripZone()<k.clone().stripZone()||e.clone().stripZone()>S.clone().stripZone()}function i(t,e){k=t,S=e,z=[];var n=++F,i=O.length;P=i;for(var r=0;i>r;r++)s(O[r],n)}function s(e,n){r(e,function(i){var s,r,o=t.isArray(e.events);if(n==F){if(i)for(s=0;i.length>s;s++)r=i[s],o||(r=w(r,e)),r&&z.push(r);P--,P||x(z)}})}function r(n,i){var s,o,a=Ce.sourceFetchers;for(s=0;a.length>s;s++){if(o=a[s].call(b,n,k.clone(),S.clone(),e.timezone,i),o===!0)return;if("object"==typeof o)return void r(o,i)}var l=n.events;if(l)t.isFunction(l)?(v(),l.call(b,k.clone(),S.clone(),e.timezone,function(t){i(t),y()})):t.isArray(l)?i(l):i();else{var h=n.url;if(h){var u,c=n.success,d=n.error,f=n.complete;u=t.isFunction(n.data)?n.data():n.data;var p=t.extend({},u||{}),g=Y(n.startParam,e.startParam),m=Y(n.endParam,e.endParam),w=Y(n.timezoneParam,e.timezoneParam);g&&(p[g]=k.format()),m&&(p[m]=S.format()),e.timezone&&"local"!=e.timezone&&(p[w]=e.timezone),v(),t.ajax(t.extend({},Ee,n,{data:p,success:function(e){e=e||[];var n=E(c,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){E(d,this,arguments),i()},complete:function(){E(f,this,arguments),y()}}))}else i()}}function o(t){var e=a(t);e&&(O.push(e),P++,s(e,F))}function a(e){var n,i,s=Ce.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return w(t,n)})),i=0;s.length>i;i++)s[i].call(b,n);return n}}function l(e){O=t.grep(O,function(t){return!h(t,e)}),z=t.grep(z,function(t){return!h(t.source,e)}),x(z)}function h(t,e){return t&&e&&c(t)==c(e)}function c(t){return("object"==typeof t?t.origArray||t.url||t.events:null)||t}function d(t){t.start=b.moment(t.start),t.end&&(t.end=b.moment(t.end)),D(t),f(t),x(z)}function f(t){var e,n,i,s;for(e=0;z.length>e;e++)if(n=z[e],n._id==t._id&&n!==t)for(i=0;G.length>i;i++)s=G[i],void 0!==t[s]&&(n[s]=t[s])}function p(t,e){var n=w(t);n&&(n.source||(e&&(U.events.push(n),n.source=U),z.push(n)),x(z))}function g(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),z=t.grep(z,e,!0),i=0;O.length>i;i++)t.isArray(O[i].events)&&(O[i].events=t.grep(O[i].events,e,!0));x(z)}function m(e){return t.isFunction(e)?t.grep(z,e):null!=e?(e+="",t.grep(z,function(t){return t._id==e})):z}function v(){W++||C("loading",null,!0,M())}function y(){--W||C("loading",null,!1,M())}function w(n,i){var s,r,o,a,l={};return e.eventDataTransform&&(n=e.eventDataTransform(n)),i&&i.eventDataTransform&&(n=i.eventDataTransform(n)),s=b.moment(n.start||n.date),s.isValid()&&(r=null,!n.end||(r=b.moment(n.end),r.isValid()))?(o=n.allDay,void 0===o&&(a=Y(i?i.allDayDefault:void 0,e.allDayDefault),o=void 0!==a?a:!(s.hasTime()||r&&r.hasTime())),o?(s.hasTime()&&s.stripTime(),r&&r.hasTime()&&r.stripTime()):(s.hasTime()||(s=b.rezoneDate(s)),r&&!r.hasTime()&&(r=b.rezoneDate(r))),t.extend(l,n),i&&(l.source=i),l._id=n._id||(void 0===n.id?"_fc"+Ye++:n.id+""),l.className=n.className?"string"==typeof n.className?n.className.split(/\s+/):n.className:[],l.allDay=o,l.start=s,l.end=r,e.forceEventDuration&&!l.end&&(l.end=H(l)),u(l),l):void 0}function D(t,e,n){var i,s,r,o,a=t._allDay,l=t._start,h=t._end,u=!1;return e||n||(e=t.start,n=t.end),i=t.allDay!=a?t.allDay:!(e||n).hasTime(),i&&(e&&(e=e.clone().stripTime()),n&&(n=n.clone().stripTime())),e&&(s=i?T(e,l.clone().stripTime()):T(e,l)),i!=a?u=!0:n&&(r=T(n||b.getDefaultEventEnd(i,e||l),e||l).subtract(T(h||b.getDefaultEventEnd(a,l),l))),o=_(m(t._id),u,i,s,r),{dateDelta:s,durationDelta:r,undo:o}}function _(n,i,s,r,o){var a=b.getIsAmbigTimezone(),l=[];return t.each(n,function(t,n){var h=n._allDay,c=n._start,d=n._end,f=null!=s?s:h,p=c.clone(),g=!i&&d?d.clone():null;f?(p.stripTime(),g&&g.stripTime()):(p.hasTime()||(p=b.rezoneDate(p)),g&&!g.hasTime()&&(g=b.rezoneDate(g))),g||!e.forceEventDuration&&!+o||(g=b.getDefaultEventEnd(f,p)),p.add(r),g&&g.add(r).add(o),a&&(+r||+o)&&(p.stripZone(),g&&g.stripZone()),n.allDay=f,n.start=p,n.end=g,u(n),l.push(function(){n.allDay=h,n.start=c,n.end=d,u(n)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}var b=this;b.isFetchNeeded=n,b.fetchEvents=i,b.addEventSource=o,b.removeEventSource=l,b.updateEvent=d,b.renderEvent=p,b.removeEvents=g,b.clientEvents=m,b.mutateEvent=D;var k,S,C=b.trigger,M=b.getView,x=b.reportEvents,H=b.getEventEnd,U={events:[]},O=[U],F=0,P=0,W=0,z=[];t.each((e.events?[e.events]:[]).concat(e.eventSources||[]),function(t,e){var n=a(e);n&&O.push(n)});var G=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"]}function u(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}function c(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function d(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function f(e,n,i){var s=Math.floor(n/e.length),r=Math.floor(n-s*(e.length-1)),o=[],a=[],l=[],h=0;p(e),e.each(function(n,i){var u=n===e.length-1?r:s,c=t(i).outerHeight(!0);u>c?(o.push(i),a.push(c),l.push(t(i).height())):h+=c}),i&&(n-=h,s=Math.floor(n/o.length),r=Math.floor(n-s*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?r:s,h=a[e],u=l[e],c=i-(h-u);i>h&&t(n).height(c)})}function p(t){t.height("")}function g(e){var n=0;return e.find("> *").each(function(e,i){var s=t(i).outerWidth();s>n&&(n=s)}),n++,e.width(n),n}function m(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(v(t),!1)}function v(t){t.height("").removeClass("fc-scroller")}function y(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function w(t){var e=t.offset().left,n=e+t.width(),i=t.children(),s=i.offset().left,r=s+i.outerWidth();return{left:s-e,right:n-r}}function D(t){return 1==t.which&&!t.ctrlKey}function _(t,e,n,i){var s,r,o,a;return e>n&&i>t?(t>=n?(s=t.clone(),o=!0):(s=n.clone(),o=!1),i>=e?(r=e.clone(),a=!0):(r=i.clone(),a=!1),{start:s,end:r,isStart:o,isEnd:a}):void 0}function b(t,e){if(t=t||{},void 0!==t[e])return t[e];for(var n,i=e.split(/(?=[A-Z])/),s=i.length-1;s>=0;s--)if(n=t[i[s].toLowerCase()],void 0!==n)return n;return t["default"]}function T(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function k(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function S(t,e){return t-e}function C(t){var e=function(){};return e.prototype=t,new e}function M(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function E(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var s,r;for(s=0;e.length>s;s++)r=e[s].apply(n,i)||r;return r}}function Y(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function x(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function H(t){return t.replace(/&.*?;/g,"")}function U(t){return t.charAt(0).toUpperCase()+t.slice(1)}function O(t,e){var n,i,s,r,o=function(){var a=+new Date-r;e>a&&a>0?n=setTimeout(o,e-a):(n=null,t.apply(s,i),n||(s=i=null))};return function(){s=this,i=arguments,r=+new Date,n||(n=setTimeout(o,e))}}function F(n,i,s){var r,o,a,l,h=n[0],u=1==n.length&&"string"==typeof h;return e.isMoment(h)?(l=e.apply(null,n),h._ambigTime&&(l._ambigTime=!0),h._ambigZone&&(l._ambigZone=!0)):k(h)||void 0===h?l=e.apply(null,n):(r=!1,o=!1,u?He.test(h)?(h+="-01",n=[h],r=!0,o=!0):(a=Ue.exec(h))&&(r=!a[5],o=!0):t.isArray(h)&&(o=!0),l=i?e.utc.apply(e,n):e.apply(null,n),r?(l._ambigTime=!0,l._ambigZone=!0):s&&(o?l._ambigZone=!0:u&&l.zone(h))),new P(l)}function P(t){M(this,t)}function W(t,e){var n,i=[],s=!1,r=!1;for(n=0;t.length>n;n++)i.push(Ce.moment.parseZone(t[n])),s=s||i[n]._ambigTime,r=r||i[n]._ambigZone;for(n=0;i.length>n;n++)s&&!e?i[n].stripTime():r&&i[n].stripZone();return i}function z(t,n){return e.fn.format.call(t,n)}function G(t,e){return L(t,V(e))}function L(t,e){var n,i="";for(n=0;e.length>n;n++)i+=R(t,e[n]);return i}function R(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?Oe[n]?Oe[n](t):z(t,n):e.maybe&&(i=L(t,e.maybe),i.match(/[1-9]/))?i:""}function A(t,e,n,i,s){var r;return t=Ce.moment.parseZone(t),e=Ce.moment.parseZone(e),r=(t.localeData||t.lang).call(t),n=r.longDateFormat(n)||n,i=i||" - ",I(t,e,V(n),i,s)}function I(t,e,n,i,s){var r,o,a,l,h="",u="",c="",d="",f="";for(o=0;n.length>o&&(r=N(t,e,n[o]),r!==!1);o++)h+=r;for(a=n.length-1;a>o&&(r=N(t,e,n[a]),r!==!1);a--)u=r+u;for(l=o;a>=l;l++)c+=R(t,n[l]),d+=R(e,n[l]);return(c||d)&&(f=s?d+i+c:c+i+d),h+f+u}function N(t,e,n){var i,s;return"string"==typeof n?n:(i=n.token)&&(s=Fe[i.charAt(0)],s&&t.isSame(e,s))?z(t,i):!1}function V(t){return t in Pe?Pe[t]:Pe[t]=Z(t)}function Z(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:Z(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function j(t){this.options=t||{}}function B(t){this.grid=t}function $(t){this.coordMaps=t}function q(t,e){this.coordMap=t,this.options=e||{}}function X(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function J(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()}function Q(t){this.view=t}function K(t){Q.call(this,t),this.coordMap=new B(this)}function te(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function ee(t){K.call(this,t)}function ne(t,e){var n,i;for(n=0;e.length>n;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function ie(t,e){return t.leftCol-e.leftCol}function se(t){K.call(this,t)}function re(t){var e,n,i;if(t.sort(te),e=oe(t),ae(e),n=e[0]){for(i=0;n.length>i;i++)le(n[i]);for(i=0;n.length>i;i++)he(n[i],0,0)}}function oe(t){var e,n,i,s=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;s.length>i&&ue(n,s[i]).length;i++);n.level=i,(s[i]||(s[i]=[])).push(n)}return s}function ae(t){var e,n,i,s,r;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for(s=n[i],s.forwardSegs=[],r=e+1;t.length>r;r++)ue(s,t[r],s.forwardSegs)}function le(t){var e,n,i=t.forwardSegs,s=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)n=i[e],le(n),s=Math.max(s,1+n.forwardPressure);t.forwardPressure=s}}function he(t,e,n){var i,s=t.forwardSegs;if(void 0===t.forwardCoord)for(s.length?(s.sort(de),he(s[0],e+1,n),t.forwardCoord=s[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;s.length>i;i++)he(s[i],0,t.forwardCoord)}function ue(t,e,n){n=n||[];for(var i=0;e.length>i;i++)ce(t,e[i])&&n.push(e[i]);return n}function ce(t,e){return t.bottom>e.top&&t.top<e.bottom}function de(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||te(t,e)}function fe(n){function i(e){var n=M[e];return t.isPlainObject(n)&&!o(e)?b(n,S.name):n}function s(t,e){return n.trigger.apply(n,[t,e||S].concat(Array.prototype.slice.call(arguments,2),[S]))}function r(t){var e=t.source||{};return Y(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))}function a(t){var e=t.source||{};return Y(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))}function l(t,e,i,r){var o=n.mutateEvent(e,i,null);s("eventDrop",t,e,o.dateDelta,function(){o.undo(),C()},r,{}),C()}function h(t,e,i,r){var o=n.mutateEvent(e,null,i);s("eventResize",t,e,o.durationDelta,function(){o.undo(),C()},r,{}),C()}function u(t){return e.isMoment(t)&&(t=t.day()),U[t]}function c(){return x}function d(t,e,n){var i=t.clone();for(e=e||1;U[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i}function f(){var t=p.apply(null,arguments),e=g(t),n=m(e);return n}function p(t,e){var n=S.colCnt,i=P?-1:1,s=P?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var r=t*n+(e*i+s);return r}function g(t){var e=S.start.day();return t+=O[e],7*Math.floor(t/x)+F[(t%x+x)%x]-e}function m(t){return S.start.clone().add(t,"days")}function v(t){var e=y(t),n=w(e),i=D(n);return i}function y(t){return t.clone().stripTime().diff(S.start,"days")}function w(t){var e=S.start.day();return t+=e,Math.floor(t/7)*x+O[(t%7+7)%7]-O[e]}function D(t){var e=S.colCnt,n=P?-1:1,i=P?e-1:0,s=Math.floor(t/e),r=(t%e+e)%e*n+i;return{row:s,col:r}}function _(t,e){for(var n=S.rowCnt,i=S.colCnt,s=[],r=T(t,e),o=y(r.start),a=y(r.end),l=w(o),h=w(a)-1,u=0;n>u;u++){var c=u*i,d=c+i-1,f=Math.max(l,c),p=Math.min(h,d);if(p>=f){var m=D(f),v=D(p),_=[m.col,v.col].sort(),b=g(f)==o,k=g(p)+1==a;s.push({row:u,leftCol:_[0],rightCol:_[1],isStart:b,isEnd:k})}}return s}function T(t,e){var n,i,s=t.clone().stripTime();return e&&(n=e.clone().stripTime(),i=+e.time(),i&&i>=E&&n.add(1,"days")),(!e||s>=n)&&(n=s.clone().add(1,"days")),{start:s,end:n}}function k(t){var e=T(t.start,t.end);return e.end.diff(e.start,"days")>1}var S=this;S.calendar=n,S.opt=i,S.trigger=s,S.isEventDraggable=r,S.isEventResizable=a,S.eventDrop=l,S.eventResize=h;var C=n.reportEventChange,M=n.options,E=e.duration(M.nextDayThreshold);S.init(),S.getEventTimeText=function(t,e){var s,r;return"object"==typeof t&&"object"==typeof e?(s=t,r=e,e=arguments[2]):(s=t.start,r=t.end),e=e||i("timeFormat"),r&&i("displayEventEnd")?n.formatRange(s,r,e):n.formatDate(s,e)},S.isHiddenDay=u,S.skipHiddenDays=d,S.getCellsPerWeek=c,S.dateToCell=v,S.dateToDayOffset=y,S.dayOffsetToCellOffset=w,S.cellOffsetToCell=D,S.cellToDate=f,S.cellToCellOffset=p,S.cellOffsetToDayOffset=g,S.dayOffsetToDate=m,S.rangeToSegments=_,S.isMultiDayEvent=k;var x,H=i("hiddenDays")||[],U=[],O=[],F=[],P=i("isRTL");!function(){i("weekends")===!1&&H.push(0,6);for(var e=0,n=0;7>e;e++)O[e]=n,U[e]=-1!=t.inArray(e,H),U[e]||(F[n]=e,n++);if(x=n,!x)throw"invalid hiddenDays"}()}function pe(t){fe.call(this,t),this.dayGrid=new ee(this),this.coordMap=this.dayGrid.coordMap}function ge(t){pe.call(this,t)}function me(t){pe.call(this,t)}function ve(t){pe.call(this,t)}function ye(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function we(t,e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}function De(t){fe.call(this,t),this.timeGrid=new se(this),this.opt("allDaySlot")?(this.dayGrid=new ee(this),this.coordMap=new $([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function _e(t){De.call(this,t)}function be(t){De.call(this,t)}var Te={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:i,day:"dddd"},timeFormat:{"default":n},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},ke={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},Se={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Ce=t.fullCalendar={version:"2.1.1"},Me=Ce.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(s,r){var o,l=t(r),h=l.data("fullCalendar");"string"==typeof e?h&&t.isFunction(h[e])&&(o=h[e].apply(h,n),s||(i=o),"destroy"===e&&l.removeData("fullCalendar")):h||(h=new a(l,e),l.data("fullCalendar",h),h.render())}),i},Ce.langs=ke,Ce.datepickerLang=function(e,n,i){var s=ke[e];s||(s=ke[e]={}),r(s,{isRTL:i.isRTL,weekNumberTitle:i.weekHeader,titleFormat:{month:i.showMonthAfterYear?"YYYY["+i.yearSuffix+"] MMMM":"MMMM YYYY["+i.yearSuffix+"]"},defaultButtonText:{prev:H(i.prevText),next:H(i.nextText),today:H(i.currentText)}}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Ce.lang=function(t,e){var n;e&&(n=ke[t],n||(n=ke[t]={}),r(n,e||{})),Te.lang=t},Ce.sourceNormalizers=[],Ce.sourceFetchers=[];var Ee={dataType:"json",cache:!1},Ye=1,xe=["sun","mon","tue","wed","thu","fri","sat"];Ce.applyAll=E;var He=/^\s*\d{4}-\d\d$/,Ue=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;Ce.moment=function(){return F(arguments)},Ce.moment.utc=function(){var t=F(arguments,!0);return t.hasTime()&&t.utc(),t},Ce.moment.parseZone=function(){return F(arguments,!0,!0)},P.prototype=C(e.fn),P.prototype.clone=function(){return F([this])},P.prototype.time=function(t){if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});delete this._ambigTime,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},P.prototype.stripTime=function(){var t=this.toArray();return e.fn.utc.call(this),this.year(t[0]).month(t[1]).date(t[2]).hours(0).minutes(0).seconds(0).milliseconds(0),this._ambigTime=!0,this._ambigZone=!0,this},P.prototype.hasTime=function(){return!this._ambigTime},P.prototype.stripZone=function(){var t=this.toArray(),n=this._ambigTime;return e.fn.utc.call(this),this.year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6]),n&&(this._ambigTime=!0),this._ambigZone=!0,this},P.prototype.hasZone=function(){return!this._ambigZone},P.prototype.zone=function(t){return null!=t&&(delete this._ambigTime,delete this._ambigZone),e.fn.zone.apply(this,arguments)},P.prototype.local=function(){var t=this.toArray(),n=this._ambigZone;return delete this._ambigTime,delete this._ambigZone,e.fn.local.apply(this,arguments),n&&this.year(t[0]).month(t[1]).date(t[2]).hours(t[3]).minutes(t[4]).seconds(t[5]).milliseconds(t[6]),this},P.prototype.utc=function(){return delete this._ambigTime,delete this._ambigZone,e.fn.utc.apply(this,arguments)},P.prototype.format=function(){return arguments[0]?G(this,arguments[0]):this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):z(this)},P.prototype.toISOString=function(){return this._ambigTime?z(this,"YYYY-MM-DD"):this._ambigZone?z(this,"YYYY-MM-DD[T]HH:mm:ss"):e.fn.toISOString.apply(this,arguments)},P.prototype.isWithin=function(t,e){var n=W([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},P.prototype.isSame=function(t,n){var i;return n?(i=W([this,t],!0),e.fn.isSame.call(i[0],i[1],n)):(t=Ce.moment.parseZone(t),e.fn.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone))},t.each(["isBefore","isAfter"],function(t,n){P.prototype[n]=function(t,i){var s=W([this,t]);return e.fn[n].call(s[0],s[1],i)}});var Oe={t:function(t){return z(t,"a").charAt(0)},T:function(t){return z(t,"A").charAt(0)}};Ce.formatRange=A;var Fe={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Pe={};j.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=t.proxy(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,s,r,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),h=this.el.outerHeight(),u=t(window),c=y(this.el);s=o.top||0,r=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,c.is(window)||c.is(document)?(c=u,e=0,n=0):(i=c.offset(),e=i.top,n=i.left),e+=u.scrollTop(),n+=u.scrollLeft(),o.viewportConstrain!==!1&&(s=Math.min(s,e+c.outerHeight()-h-this.margin),s=Math.max(s,e+this.margin),r=Math.min(r,n+c.outerWidth()-l-this.margin),r=Math.max(r,n+this.margin)),this.el.css({top:s-a.top,left:r-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}},B.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]),this.computeBounds()},getCell:function(t,e){var n,i=null,s=this.rows,r=this.cols,o=-1,a=-1;if(this.inBounds(t,e)){for(n=0;s.length>n;n++)if(e>=s[n][0]&&s[n][1]>e){o=n;break}for(n=0;r.length>n;n++)if(t>=r[n][0]&&r[n][1]>t){a=n;break}o>=0&&a>=0&&(i={row:o,col:a},i.grid=this.grid,i.date=this.grid.getCellDate(i))}return i},computeBounds:function(){var t;this.containerEl&&(t=this.containerEl.offset(),this.minX=t.left,this.maxX=t.left+this.containerEl.outerWidth(),this.minY=t.top,this.maxY=t.top+this.containerEl.outerHeight())},inBounds:function(t,e){return this.containerEl?t>=this.minX&&this.maxX>t&&e>=this.minY&&this.maxY>e:!0}},$.prototype={coordMaps:null,build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,s=null;for(n=0;i.length>n&&!s;n++)s=i[n].getCell(t,e);return s}},q.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(t){D(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n,i;this.isListening||(e&&this.options.scroll&&(n=y(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=O(t.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),e&&(i=this.getCell(e),this.origCell=i,this.origDate=i?i.date:null,this.mouseX0=e.pageX,this.mouseY0=e.pageY),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=t.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",e))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(t){var e,n;this.isDragging||(e=this.options.distance||1,n=Math.pow(t.pageX-this.mouseX0,2)+Math.pow(t.pageY-this.mouseY0,2),n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(t)},startDrag:function(t){var e;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",t),e=this.getCell(t),e&&this.cellOver(e,!0))},drag:function(t){var e;this.isDragging&&(e=this.getCell(t),X(e,this.cell)||(this.cell&&this.cellOut(),e&&this.cellOver(e)),this.dragScroll(t))},cellOver:function(t){this.cell=t,this.date=t.date,this.trigger("cellOver",t,t.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null,this.date=null)},mouseup:function(t){this.stopDrag(t),this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",t),this.isDragging=!1)},stopListening:function(e){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",e),this.origCell=this.cell=null,this.origDate=this.date=null)},getCell:function(t){return this.coordMap.getCell(t.pageX,t.pageY)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t,e=this.scrollEl;e&&(t=e.offset(),this.scrollBounds={top:t.top,left:t.left,bottom:t.top+e.outerHeight(),right:t.left+e.outerWidth()})},dragScroll:function(t){var e,n,i,s,r=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(r-(t.pageY-o.top))/r,n=(r-(o.bottom-t.pageY))/r,i=(r-(t.pageX-o.left))/r,s=(r-(o.right-t.pageX))/r,e>=0&&1>=e?a=-1*e*this.scrollSpeed:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:s>=0&&1>=s&&(l=s*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,n){this.scrollTopVel=e,this.scrollLeftVel=n,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(t.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}},J.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,s.destroyEl(),this.top0=this.left0=null,n&&n()}var s=this,r=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t
},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}},Q.prototype={view:null,cellHtml:"<td/>",rowHtml:function(t,e){var n,i,s=this.view,r=this.getHtmlRenderer("cell",t),o="";for(e=e||0,n=0;s.colCnt>n;n++)i=s.cellToDate(e,n),o+=r(e,n,i);return o=this.bookendCells(o,t,e),"<tr>"+o+"</tr>"},bookendCells:function(t,e,n){var i=this.view,s=this.getHtmlRenderer("intro",e)(n||0),r=this.getHtmlRenderer("outro",e)(n||0),o=i.opt("isRTL"),a=o?r:s,l=o?s:r;return"string"==typeof t?a+t+l:t.prepend(a).append(l)},getHtmlRenderer:function(t,e){var n,i,s,r,o=this.view;return n=t+"Html",e&&(i=e+U(t)+"Html"),i&&(r=o[i])?s=o:i&&(r=this[i])?s=this:(r=o[n])?s=o:(r=this[n])&&(s=this),"function"==typeof r?function(){return r.apply(s,arguments)||""}:function(){return r||""}}},K.prototype=C(Q.prototype),t.extend(K.prototype,{el:null,coordMap:null,cellDuration:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(){},getCellDate:function(){},getCellDayEl:function(){},rangeToSegs:function(){},bindHandlers:function(){var e=this;this.el.on("mousedown",function(n){t(n.target).is(".fc-event-container *, .fc-more")||t(n.target).closest(".fc-popover").length||e.dayMousedown(n)}),this.bindSegHandlers()},dayMousedown:function(t){var e,n,i,s=this,r=this.view,o=r.opt("selectable"),a=null,l=new q(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(t,r){l.origDate&&(i=s.getCellDayEl(t),a=[r,l.origDate].sort(S),e=a[0],n=a[1].clone().add(s.cellDuration),o&&s.renderSelection(e,n))},cellOut:function(){a=null,s.destroySelection()},listenStop:function(t){a&&(a[0].isSame(a[1])&&r.trigger("dayClick",i[0],e,t),o&&r.reportSelection(e,n,t))}});l.mousedown(t)},renderDrag:function(){},destroyDrag:function(){},renderResize:function(){},destroyResize:function(){},renderRangeHelper:function(t,e,n){var i,s=this.view;!e&&s.opt("forceEventDuration")&&(e=s.calendar.getDefaultEventEnd(!t.hasTime(),t)),i=n?C(n.event):{},i.start=t,i.end=e,i.allDay=!(t.hasTime()||e&&e.hasTime()),i.className=(i.className||[]).concat("fc-helper"),n||(i.editable=!1),this.renderHelper(i,n)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t,e){this.renderHighlight(t,e)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(){},destroyHighlight:function(){},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t,e,n){var i=this.view,s=i.calendar,r=i.opt("columnFormat");return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+xe[n.day()]+'">'+x(s.formatDate(n,r))+"</th>"},bgCellHtml:function(t,e,n){var i=this.view,s=this.getDayClasses(n);return s.unshift("fc-day",i.widgetContentClass),'<td class="'+s.join(" ")+'" data-date="'+n.format()+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+xe[t.day()]];return"month"===e.name&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):i.push(n>t?"fc-past":"fc-future"),i}}),t.extend(K.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,renderEvents:function(){},getSegs:function(){},destroyEvents:function(){this.triggerSegMouseout()},renderSegs:function(e,n){var i,s=this.view,r="",o=[];for(i=0;e.length>i;i++)r+=this.renderSegHtml(e[i],n);return t(r).each(function(n,i){var r=e[n],a=s.resolveEventEl(r.event,t(i));a&&(a.data("fc-seg",r),r.el=a,o.push(r))}),o},renderSegHtml:function(){},eventsToSegs:function(e,n,i){var s=this;return t.map(e,function(t){return s.eventToSegs(t,n,i)})},eventToSegs:function(t,e,n){var i,s,r,o=t.start.clone().stripZone(),a=this.view.calendar.getEventEnd(t).stripZone();for(e&&n?(r=_(o,a,e,n),i=r?[r]:[]):i=this.rangeToSegs(o,a),s=0;i.length>s;s++)r=i[s],r.event=t,r.eventStartMS=+o,r.eventDurationMS=a-o;return i},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,s){t(s.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,s):n.isEventDraggable(i.event)&&e.segDragMousedown(i,s)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var s=t(this).data("fc-seg");return!s||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,s,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i,s=this,r=this.view,o=t.el,a=t.event,l=new J(t.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),h=new q(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),listenStart:function(t){l.hide(),l.start(t)},dragStart:function(e){s.triggerSegMouseout(t,e),s.isDraggingSeg=!0,r.hideEvent(a),r.trigger("eventDragStart",o[0],a,e,{})},cellOver:function(e,o){var a=t.cellDate||h.origDate,u=s.computeDraggedEventDates(t,a,o);n=u.start,i=u.end,r.renderDrag(n,i,t)?l.hide():l.show()},cellOut:function(){n=null,r.destroyDrag(),l.show()},dragStop:function(t){var e=n&&!n.isSame(a.start);l.stop(!e,function(){s.isDraggingSeg=!1,r.destroyDrag(),r.showEvent(a),r.trigger("eventDragStop",o[0],a,t,{}),e&&r.eventDrop(o[0],a,n,t)})},listenStop:function(){l.stop()}});h.mousedown(e)},computeDraggedEventDates:function(t,e,n){var i,s,r,o=this.view,a=t.event,l=a.start,h=o.calendar.getEventEnd(a);return n.hasTime()===e.hasTime()?(i=T(n,e),s=l.clone().add(i),r=null===a.end?null:h.clone().add(i)):(s=n,r=null),{start:s,end:r}},segResizeMousedown:function(t,e){function n(){s.destroyResize(),r.showEvent(a)}var i,s=this,r=this.view,o=t.el,a=t.event,l=a.start,h=r.calendar.getEventEnd(a),u=null;i=new q(this.coordMap,{distance:5,scroll:r.opt("dragScroll"),dragStart:function(e){s.triggerSegMouseout(t,e),s.isResizingSeg=!0,r.trigger("eventResizeStart",o[0],a,e,{})},cellOver:function(e,i){i.isBefore(l)&&(i=l),u=i.clone().add(s.cellDuration),u.isSame(h)?(u=null,n()):(s.renderResize(l,u,t),r.hideEvent(a))},cellOut:function(){u=null,n()},dragStop:function(t){s.isResizingSeg=!1,n(),r.trigger("eventResizeStop",o[0],a,t,{}),u&&r.eventResize(o[0],a,u,t)}}),i.mousedown(e)},getSegClasses:function(t,e,n){var i=t.event,s=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&s.push("fc-draggable"),n&&s.push("fc-resizable"),s},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,s=n.color,r=e.opt("eventColor"),o=t.backgroundColor||i||n.backgroundColor||s||e.opt("eventBackgroundColor")||r,a=t.borderColor||i||n.borderColor||s||e.opt("eventBorderColor")||r,l=t.textColor||n.textColor||e.opt("eventTextColor"),h=[];return o&&h.push("background-color:"+o),a&&h.push("border-color:"+a),l&&h.push("color:"+l),h.join(";")}}),ee.prototype=C(K.prototype),t.extend(ee.prototype,{numbersVisible:!1,cellDuration:e.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,highlightEls:null,render:function(e){var n,i=this.view,s="";for(n=0;i.rowCnt>n;n++)s+=this.dayRowHtml(n,e);this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),this.dayEls.each(function(e,n){var s=i.cellToDate(Math.floor(e/i.colCnt),e%i.colCnt);i.trigger("dayRender",null,s,t(n))}),K.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},buildCoords:function(e,n){var i,s,r,o=this.view.colCnt;this.dayEls.slice(0,o).each(function(e,o){i=t(o),s=i.offset().left,e&&(r[1]=s),r=[s],n[e]=r}),r[1]=s+i.outerWidth(),this.rowEls.each(function(n,o){i=t(o),s=i.offset().top,n&&(r[1]=s),r=[s],e[n]=r}),r[1]=s+i.outerHeight()+this.bottomCoordPadding},getCellDate:function(t){return this.view.cellToDate(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.view.colCnt+t.col)},rangeToSegs:function(t,e){return this.view.rangeToSegments(t,e)},renderDrag:function(t,e,n){var i;return this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!0,t)),n&&!n.el.closest(this.el).length?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEls.css("opacity",i),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderResize:function(t,e,n){this.renderHighlight(t,e),this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i=[],s=this.renderEventRows([e]);this.rowEls.each(function(e,r){var o,a=t(r),l=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(s[e].tbodyEl),a.append(l),i.push(l[0])}),this.helperEls=t(i)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},renderHighlight:function(e,n){var i,s,r,o=this.rangeToSegs(e,n),a=[];for(i=0;o.length>i;i++)s=o[i],r=t(this.highlightSkeletonHtml(s.leftCol,s.rightCol+1)),r.appendTo(this.rowEls[s.row]),a.push(r[0]);this.highlightEls=t(a)},destroyHighlight:function(){this.highlightEls&&(this.highlightEls.remove(),this.highlightEls=null)},highlightSkeletonHtml:function(t,e){var n=this.view.colCnt,i="";return t>0&&(i+='<td colspan="'+t+'"/>'),e>t&&(i+='<td colspan="'+(e-t)+'" class="fc-highlight" />'),n>e&&(i+='<td colspan="'+(n-e)+'"/>'),i=this.bookendCells(i,"highlight"),'<div class="fc-highlight-skeleton"><table><tr>'+i+"</tr></table></div>"}}),t.extend(ee.prototype,{segs:null,rowStructs:null,renderEvents:function(e){var n=this.rowStructs=this.renderEventRows(e),i=[];this.rowEls.each(function(e,s){t(s).find(".fc-content-skeleton > table").append(n[e].tbodyEl),i.push.apply(i,n[e].segs)}),this.segs=i},getSegs:function(){return(this.segs||[]).concat(this.popoverSegs||[])},destroyEvents:function(){var t,e;for(K.prototype.destroyEvents.call(this),t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.segs=null,this.destroySegPopover()},renderEventRows:function(t){var e,n,i=this.eventsToSegs(t),s=[];for(i=this.renderSegs(i),e=this.groupSegRows(i),n=0;e.length>n;n++)s.push(this.renderEventRow(n,e[n]));return s},renderSegHtml:function(t,e){var n,i=this.view,s=i.opt("isRTL"),r=t.event,o=i.isEventDraggable(r),a=!e&&r.allDay&&t.isEnd&&i.isEventResizable(r),l=this.getSegClasses(t,o,a),h=this.getEventSkinCss(r),u="";return l.unshift("fc-day-grid-event"),!r.allDay&&t.isStart&&(u='<span class="fc-time">'+x(i.getEventTimeText(r))+"</span>"),n='<span class="fc-title">'+(x(r.title||"")||"&nbsp;")+"</span>",'<a class="'+l.join(" ")+'"'+(r.url?' href="'+x(r.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(s?n+" "+u:u+" "+n)+"</div>"+(a?'<div class="fc-resizer"/>':"")+"</a>"},renderEventRow:function(e,n){function i(e){for(;e>o;)u=(y[s-1]||[])[o],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=t("<td/>"),a.append(u)),v[s][o]=u,y[s][o]=u,o++}var s,r,o,a,l,h,u,c=this.view,d=c.colCnt,f=this.buildSegLevels(n),p=Math.max(1,f.length),g=t("<tbody/>"),m=[],v=[],y=[];for(s=0;p>s;s++){if(r=f[s],o=0,a=t("<tr/>"),m.push([]),v.push([]),y.push([]),r)for(l=0;r.length>l;l++){for(h=r[l],i(h.leftCol),u=t('<td class="fc-event-container"/>').append(h.el),h.leftCol!=h.rightCol?u.attr("colspan",h.rightCol-h.leftCol+1):y[s][o]=u;h.rightCol>=o;)v[s][o]=u,m[s][o]=h,o++;a.append(u)}i(d),this.bookendCells(a,"eventSkeleton"),g.append(a)}return{row:e,tbodyEl:g,cellMatrix:v,segMatrix:m,segLevels:f,segs:n}},buildSegLevels:function(t){var e,n,i,s=[];for(t.sort(te),e=0;t.length>e;e++){for(n=t[e],i=0;s.length>i&&ne(n,s[i]);i++);n.level=i,(s[i]||(s[i]=[])).push(n)}for(i=0;s.length>i;i++)s[i].sort(ie);return s},groupSegRows:function(t){var e,n=this.view,i=[];for(e=0;n.rowCnt>e;e++)i.push([]);for(e=0;t.length>e;e++)i[t[e].row].push(t[e]);return i}}),t.extend(ee.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(t){var e,n,i=this.rowEls.eq(t),s=i.height(),r=this.rowStructs[t].tbodyEl.children();for(e=0;r.length>e;e++)if(n=r.eq(e).removeClass("fc-limited"),n.position().top+n.outerHeight()>s)return e;return!1},limitRow:function(e,n){function i(i){for(;i>k;)s={row:e,col:k},u=D.getCellSegs(s,n),u.length&&(f=o[n-1][k],w=D.renderMoreLink(s,u),y=t("<div/>").append(w),f.append(y),T.push(y[0])),k++}var s,r,o,a,l,h,u,c,d,f,p,g,m,v,y,w,D=this,_=this.view,b=this.rowStructs[e],T=[],k=0;if(n&&b.segLevels.length>n){for(r=b.segLevels[n-1],o=b.cellMatrix,a=b.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;r.length>l;l++){for(h=r[l],i(h.leftCol),d=[],c=0;h.rightCol>=k;)s={row:e,col:k},u=this.getCellSegs(s,n),d.push(u),c+=u.length,k++;if(c){for(f=o[n-1][h.leftCol],p=f.attr("rowspan")||1,g=[],m=0;d.length>m;m++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),u=d[m],s={row:e,col:h.leftCol+m},w=this.renderMoreLink(s,[h].concat(u)),y=t("<div/>").append(w),v.append(y),g.push(v[0]),T.push(v[0]);f.addClass("fc-limited").after(t(g)),a.push(f[0])}}i(_.colCnt),b.moreEls=t(T),b.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,s=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(r){var o=s.opt("eventLimitClick"),a=s.cellToDate(e),l=t(this),h=i.getCellDayEl(e),u=i.getCellSegs(e),c=i.resliceDaySegs(u,a),d=i.resliceDaySegs(n,a);"function"==typeof o&&(o=s.trigger("eventLimitClick",null,{date:a,dayEl:h,moreEl:l,segs:c,hiddenSegs:d},r)),"popover"===o?i.showSegPopover(a,e,l,c):"string"==typeof o&&s.calendar.zoomTo(a,o)})},showSegPopover:function(t,e,n,i){var s,r,o=this,a=this.view,l=n.parent();s=1==a.rowCnt?this.view.el:this.rowEls.eq(e.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(t,i),parentEl:this.el,top:s.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},a.opt("isRTL")?r.right=l.offset().left+l.outerWidth()+1:r.left=l.offset().left-1,this.segPopover=new j(r),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,s=this.view,r=s.opt("theme"),o=e.format(s.opt("dayPopoverFormat")),a=t('<div class="fc-header '+s.widgetHeaderClass+'"><span class="fc-close '+(r?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+x(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderSegs(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cellDate=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),s=n.clone().stripTime(),r=s.clone().add(1,"days");return this.eventsToSegs(i,s,r)},getMoreLinkText:function(t){var e=this.view,n=e.opt("eventLimitText");return"function"==typeof n?n(t):"+"+t+" "+n},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,s=e||0,r=[];i.length>s;)n=i[s][t.col],n&&r.push(n),s++;return r}}),se.prototype=C(K.prototype),t.extend(se.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,highlightEl:null,helperEl:null,render:function(){this.processOptions(),this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),K.prototype.render.call(this)},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},slatRowHtml:function(){for(var t,n,i,s=this.view,r=s.calendar,o=s.opt("isRTL"),a="",l=0===this.slotDuration.asMinutes()%15,h=e.duration(+this.minTime);this.maxTime>h;)t=s.start.clone().time(h),n=t.minutes(),i='<td class="fc-axis fc-time '+s.widgetContentClass+'" '+s.axisStyleAttr()+">"+(l&&n?"":"<span>"+x(r.formatDate(t,s.opt("axisFormat")))+"</span>")+"</td>",a+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":i)+'<td class="'+s.widgetContentClass+'"/>'+(o?i:"")+"</tr>",h.add(this.slotDuration);return a},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime"))},rangeToSegs:function(t,e){var n,i,s,r,o,a=this.view,l=[];for(t=t.clone().stripZone(),e=e.clone().stripZone(),i=0;a.colCnt>i;i++)s=a.cellToDate(0,i),r=s.clone().time(this.minTime),o=s.clone().time(this.maxTime),n=_(t,e,r,o),n&&(n.col=i,l.push(n));return l},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},buildCoords:function(n,i){var s,r,o=this.view.colCnt,a=this.el.offset().top,l=e.duration(+this.minTime),h=null;for(this.dayEls.slice(0,o).each(function(e,n){s=t(n),r=s.offset().left,h&&(h[1]=r),h=[r],i[e]=h}),h[1]=r+s.outerWidth(),h=null;this.maxTime>l;)r=a+this.computeTimeTop(l),h&&(h[1]=r),h=[r],n.push(h),l.add(this.snapDuration);h[1]=a+this.computeTimeTop(l)},getCellDate:function(t){var e=this.view,n=e.calendar;return n.rezoneDate(e.cellToDate(0,t.col).time(this.minTime+this.snapDuration*t.row))},getCellDayEl:function(t){return this.dayEls.eq(t.col)},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,s,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(this.slatEls.length,r),e=Math.floor(r),n=r-e,i=this.slatTops[e],n?(s=this.slatTops[e+1],i+(s-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,s){e=t(s).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e,n){var i;return n?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEl.css("opacity",i),!0):void this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!1,t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderResize:function(t,e,n){this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,s,r,o=this.renderEventTable([e]),a=o.tableEl,l=o.segs;for(i=0;l.length>i;i++)s=l[i],n&&n.col===s.col&&(r=n.el,s.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(a).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t,e){this.view.opt("selectHelper")?this.renderRangeHelper(t,e):this.renderHighlight(t,e)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderHighlight:function(e,n){this.highlightEl=t(this.highlightSkeletonHtml(e,n)).appendTo(this.el)},destroyHighlight:function(){this.highlightEl&&(this.highlightEl.remove(),this.highlightEl=null)},highlightSkeletonHtml:function(t,e){var n,i,s,r,o,a=this.view,l=this.rangeToSegs(t,e),h="",u=0;for(n=0;l.length>n;n++)i=l[n],i.col>u&&(h+='<td colspan="'+(i.col-u)+'"/>',u=i.col),s=a.cellToDate(0,u),r=this.computeDateTop(i.start,s),o=this.computeDateTop(i.end,s),h+='<td><div class="fc-highlight-container"><div class="fc-highlight" style="top:'+r+"px;bottom:-"+o+'px"/></div></td>',u++;return a.colCnt>u&&(h+='<td colspan="'+(a.colCnt-u)+'"/>'),h=this.bookendCells(h,"highlight"),'<div class="fc-highlight-skeleton"><table><tr>'+h+"</tr></table></div>"}}),t.extend(se.prototype,{segs:null,eventSkeletonEl:null,renderEvents:function(e){var n=this.renderEventTable(e);this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(n.tableEl),this.el.append(this.eventSkeletonEl),this.segs=n.segs},getSegs:function(){return this.segs||[]},destroyEvents:function(){K.prototype.destroyEvents.call(this),this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null),this.segs=null},renderEventTable:function(e){var n,i,s,r,o,a,l=t("<table><tr/></table>"),h=l.find("tr"),u=this.eventsToSegs(e);for(u=this.renderSegs(u),n=this.groupSegCols(u),this.computeSegVerticals(u),r=0;n.length>r;r++){for(o=n[r],re(o),a=t('<div class="fc-event-container"/>'),i=0;o.length>i;i++)s=o[i],s.el.css(this.generateSegPositionCss(s)),30>s.bottom-s.top&&s.el.addClass("fc-short"),a.append(s.el);h.append(t("<td/>").append(a))}return this.bookendCells(h,"eventSkeleton"),{tableEl:l,segs:u}},updateSegVerticals:function(){var t,e=this.segs;if(e)for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},renderSegHtml:function(t,e){var n,i,s,r=this.view,o=t.event,a=r.isEventDraggable(o),l=!e&&t.isEnd&&r.isEventResizable(o),h=this.getSegClasses(t,a,l),u=this.getEventSkinCss(o);return h.unshift("fc-time-grid-event"),r.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=r.getEventTimeText(t.start,t.end),i=r.getEventTimeText(t.start,t.end,"LT"),s=r.getEventTimeText(t.start,null)):(n=r.getEventTimeText(o),i=r.getEventTimeText(o,"LT"),s=r.getEventTimeText(o.start,null)),'<a class="'+h.join(" ")+'"'+(o.url?' href="'+x(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+x(s)+'" data-full="'+x(i)+'"><span>'+x(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+x(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(l?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view,s=i.opt("isRTL"),r=i.opt("slotEventOverlap"),o=t.backwardCoord,a=t.forwardCoord,l=this.generateSegVerticalCss(t);return r&&(a=Math.min(1,o+2*(a-o))),s?(e=1-a,n=o):(e=o,n=1-a),l.zIndex=t.level+1,l.left=100*e+"%",l.right=100*n+"%",r&&t.forwardPressure&&(l[s?"marginLeft":"marginRight"]=20),l},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},groupSegCols:function(t){var e,n=this.view,i=[];for(e=0;n.colCnt>e;e++)i.push([]);for(e=0;t.length>e;e++)i[t[e].col].push(t[e]);return i}}),fe.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight",this.documentMousedownProxy=t.proxy(this,"documentMousedown"),this.documentDragStartProxy=t.proxy(this,"documentDragStart")},render:function(){this.updateSize(),this.trigger("viewRender",this,this,this.el),t(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect(),this.trigger("viewDestroy",this,this,this.el),this.destroyEvents(),this.el.empty(),t(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(){},updateSize:function(t){t&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n=this.el.add(this.scrollerEl);return n.css({position:"relative",left:-1}),e=this.el.outerHeight()-this.scrollerEl.height(),n.css({position:"",left:""}),t-e},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(){this.segEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.segEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.segEach(function(t){t.el.css("visibility","hidden")},t)},segEach:function(t,e){var n,i=this.getSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||t.call(this,i[n])},getSegs:function(){},renderDrag:function(){},destroyDrag:function(){},documentDragStart:function(e){var n,i=this,s=null;this.opt("droppable")&&(n=new q(this.coordMap,{cellOver:function(t,e){s=e,i.renderDrag(e)},cellOut:function(){s=null,i.destroyDrag()}}),t(document).one("dragstop",function(t,e){i.destroyDrag(),s&&i.trigger("drop",t.target,s,t,e)}),n.startDrag(e))},select:function(t,e,n){this.unselect(n),this.renderSelection(t,e),this.reportSelection(t,e,n)},renderSelection:function(){},reportSelection:function(t,e,n){this.isSelected=!0,this.trigger("select",null,t,e,n)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&D(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))}},pe.prototype=C(fe.prototype),t.extend(pe.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(t,e,n){this.rowCnt=t,this.colCnt=e,this.dayNumbersVisible=n,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows()),fe.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy(),fe.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+x(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(t,0))+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t,e,n){var i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(n),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=g(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");v(this.scrollerEl),d(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&m(this.scrollerEl,n)&&(c(this.headRowEl,w(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n),this.restoreScroll())},setGridHeight:function(t,e){e?p(this.dayGrid.rowEls):f(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight(),fe.prototype.renderEvents.call(this,t)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){fe.prototype.destroyEvents.call(this),this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return this.dayGrid.renderDrag(t,e,n)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t,e){this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.dayGrid.destroySelection()}}),s({fixedWeekCount:!0}),Me.month=ge,ge.prototype=C(pe.prototype),t.extend(ge.prototype,{name:"month",incrementDate:function(t,e){return t.clone().stripTime().add(e,"months").startOf("month")},render:function(t){var e;this.intervalStart=t.clone().stripTime().startOf("month"),this.intervalEnd=this.intervalStart.clone().add(1,"months"),this.start=this.intervalStart.clone(),this.start=this.skipHiddenDays(this.start),this.start.startOf("week"),this.start=this.skipHiddenDays(this.start),this.end=this.intervalEnd.clone(),this.end=this.skipHiddenDays(this.end,-1,!0),this.end.add((7-this.end.weekday())%7,"days"),this.end=this.skipHiddenDays(this.end,-1,!0),e=Math.ceil(this.end.diff(this.start,"weeks",!0)),this.isFixedWeeks()&&(this.end.add(6-e,"weeks"),e=6),this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat")),pe.prototype.render.call(this,e,this.getCellsPerWeek(),!0)},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),f(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}}),Me.basicWeek=me,me.prototype=C(pe.prototype),t.extend(me.prototype,{name:"basicWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat"),"  "),pe.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}}),Me.basicDay=ve,ve.prototype=C(pe.prototype),t.extend(ve.prototype,{name:"basicDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");
return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),pe.prototype.render.call(this,1,1,!1)}}),s({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:ye,timeFormat:{agenda:we},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});var We=5;De.prototype=C(fe.prototype),t.extend(De.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(e){this.rowCnt=1,this.colCnt=e,this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=t('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)"),fe.prototype.render.call(this),this.resetScroll()},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),fe.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e,n,i;return this.opt("weekNumbers")?(t=this.cellToDate(0,0),e=this.calendar.calculateWeekNumber(t),n=this.opt("weekNumberTitle"),i=this.opt("isRTL")?e+n:n+e,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+x(i)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||x(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){t&&this.timeGrid.resize(),fe.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=g(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),v(this.scrollerEl),d(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=We),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),m(this.scrollerEl,i)?(c(this.noScrollRowEls,w(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i),this.restoreScroll()):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function t(){n.scrollerEl.scrollTop(s)}var n=this,i=e.duration(this.opt("scrollTime")),s=this.timeGrid.computeTimeTop(i);s=Math.ceil(s),s&&s++,t(),setTimeout(t,0)},renderEvents:function(t){var e,n,i=[],s=[],r=[];for(n=0;t.length>n;n++)t[n].allDay?i.push(t[n]):s.push(t[n]);e=this.timeGrid.renderEvents(s),this.dayGrid&&(r=this.dayGrid.renderEvents(i)),this.updateHeight(),fe.prototype.renderEvents.call(this,t)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){fe.prototype.destroyEvents.call(this),this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return t.hasTime()?this.timeGrid.renderDrag(t,e,n):this.dayGrid?this.dayGrid.renderDrag(t,e,n):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t,e){t.hasTime()||e.hasTime()?this.timeGrid.renderSelection(t,e):this.dayGrid&&this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}}),Me.agendaWeek=_e,_e.prototype=C(De.prototype),t.extend(_e.prototype,{name:"agendaWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat"),"  "),De.prototype.render.call(this,this.getCellsPerWeek())}}),Me.agendaDay=be,be.prototype=C(De.prototype),t.extend(be.prototype,{name:"agendaDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),De.prototype.render.call(this,1)}})});